<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" >
<html>
	<head>
		<title>sf bike parking locator</title>

		{% load staticfiles %}
		<script src="{% static "parking.js" %}"></script>
		<link rel="stylesheet" type="text/css" href="{% static "normalize.css" %}"/>
		<link rel="stylesheet" type="text/css" href="{% static "style.css" %}"/>

	</head>
	<body>
		<div id="top-bar">
			<iframe id="github-star" src="http://ghbtns.com/github-btn.html?user=cheniel&repo=sf-bike-parking&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="80" height="20"></iframe>
		</div>

		<div id="header" class="hor-section">

			<a href=".">
				<!-- temp image -->
				<img src="http://d75822.medialib.glogster.com/media/53/537a88edfbf25c8b1291950b1826a422c5b5820826975327c253f4f3ca36c3da/sf-logo-cmyk-jpg-jpg.jpg">
				<p><h1>bike parking locator</h1></p>
			</a>
			finds nearest public bike rack based on SF open data
		</div>
		
		<div id="search-options" class="hor-section">

			{% if latitude and longitude %}
				<p>showing {{ results|length }} results for... <br />({{latitude}}, {{longitude}})</p>
				
				<a href=".">
					<div id="new-search-button">
						<p>new search?</p>
					</div>
				</a>

			{% elif street %}
				<p>showing {{ results|length }} results for... <br />{{street}}</p>

				<a href=".">
					<div id="new-search-button">
						<p>new search?</p>
					</div>
				</a>

			{% else %}
				
				<div id="search-type-selection">

					<button id="location-search-button" class="L-button">
						find via location
					</button>

					<p id="or">OR</p>

					<button id="street-search-button" class="L-button">
						find via street
					</button>
				</div>

				<div id="location-search-options">
					<input id="location-trigger" type="button" value="fill my location">
					<form>
						latitude: <input id="latitude" type="text" name="latitude" value="{{latitude}}"><br />
						longitude: <input id="longitude" type="text" name="longitude" value="{{longitude}}"><br />
						<input type="submit" value="search by location">
					</form>
				</div>

				<div id="street-search-options">
					<form>
						street name: <input id="street" type="text" name="street" value="{{street}}"><br />
						<input type="submit" value="search by street">
					</form>
				</div>

			{% endif %}

		</div>

		{% if results %}
		<div id="results-container" class="hor-section">
				{% for result in results %}
					<div class="result">
						<div class="result-number">
							{{ result.priority }}
						</div>
						<div class="result-info-container">
							<div class="result-info">
								<div class="r-address">{{result.address}}</div>
								<div class="r-coordinates">({{result.latitude}}, {{result.longitude}}) </div>
								<div class="r-location">@{{result.location}}</div>
								<div class="r-spaces">{{result.numRacks}} racks, {{result.spaces}} spaces. </div>
							</div>
						</div>

					</div>
				{% endfor %}
		
				{% if rawDataLink %}
					<div><a href="{{rawDataLink}}">raw data</a><br /></div>
				{% endif %}

		</div>
		{% endif %}

		<div id="footer" class="hor-section">
			<p><a href="http://www.github.com/cheniel">created by cheniel</a></p>
		</div>

	</body>
</html>